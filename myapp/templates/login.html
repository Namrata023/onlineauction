{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static %}
{% block title %}Login{% endblock %}

{% block content %}
<h2>Login</h2>
{% if error %}
  <p style="color:red;">{{ error }}</p>
{% endif %}
<form method="POST">
  {% csrf_token %}
  {{ form|crispy }}
  {% for field in form %}
    <div class="mb-3">
      <label class="form-label" for="{{ field.id_for_label }}">{{ field.label }}</label>
      {{ field }}
      {% if field.help_text %}
        <div class="form-text">{{ field.help_text }}</div>
      {% endif %}
      {% for error in field.errors %}
        <div class="text-danger small">{{ error }}</div>
      {% endfor %}
    </div>
  {% endfor %}
  <label for="username">Username:</label>
  <input type="text" name="username" required>

  <label for="password">Password:</label>
  <input type="password" name="password" required>

  <button type="submit">Login</button>
</form>
<p>Don't have an account? <a href="{% url 'register' %}">Register here</a></p>

    {% endblock %}